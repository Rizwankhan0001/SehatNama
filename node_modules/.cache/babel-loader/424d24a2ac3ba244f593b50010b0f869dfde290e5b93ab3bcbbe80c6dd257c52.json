{"ast":null,"code":"import React,{useState,useEffect}from'react';import{X,Calendar,Clock}from'lucide-react';import apiService from'../services/api';import PaymentModal from'./PaymentModal';import AvailabilityCalendar from'./AvailabilityCalendar';// Add custom CSS for animations\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const styles=\"\\n  @keyframes fade-in {\\n    from {\\n      opacity: 0;\\n      transform: translateY(20px);\\n    }\\n    to {\\n      opacity: 1;\\n      transform: translateY(0);\\n    }\\n  }\\n  \\n  .animate-fade-in {\\n    animation: fade-in 0.5s ease-out;\\n  }\\n\";// Inject styles\nif(typeof document!=='undefined'){const styleSheet=document.createElement('style');styleSheet.textContent=styles;document.head.appendChild(styleSheet);}const AppointmentModal=_ref=>{let{isOpen,onClose,doctor,onAppointmentBooked}=_ref;const[selectedDate,setSelectedDate]=useState('');const[selectedTime,setSelectedTime]=useState('');const[reason,setReason]=useState('');const[customReason,setCustomReason]=useState('');const[symptoms,setSymptoms]=useState([]);const[customSymptoms,setCustomSymptoms]=useState('');const[availableSlots,setAvailableSlots]=useState([]);const[loading,setLoading]=useState(false);const[slotsLoading,setSlotsLoading]=useState(false);const[showPayment,setShowPayment]=useState(false);const[appointmentData,setAppointmentData]=useState(null);const reasonOptions=['Regular Checkup','Follow-up Visit','Chest Pain','Headache','Fever','Cough & Cold','Stomach Pain','Back Pain','Skin Problem','Blood Pressure Check','Diabetes Consultation','Vaccination','Health Certificate','Other'];const symptomOptions=['Fever','Headache','Cough','Sore Throat','Runny Nose','Body Ache','Nausea','Vomiting','Diarrhea','Constipation','Chest Pain','Shortness of Breath','Dizziness','Fatigue','Loss of Appetite','Sleep Problems','Anxiety','Depression','Skin Rash','Joint Pain'];useEffect(()=>{if(isOpen&&doctor&&selectedDate){loadAvailableSlots();}else if(!selectedDate){setAvailableSlots([]);setSelectedTime('');}},[isOpen,doctor,selectedDate]);const loadAvailableSlots=async()=>{if(!doctor||!selectedDate)return;setSlotsLoading(true);// Always provide default slots for any selected date\nconst defaultSlots=[{startTime:'09:00',endTime:'09:30'},{startTime:'09:30',endTime:'10:00'},{startTime:'10:00',endTime:'10:30'},{startTime:'10:30',endTime:'11:00'},{startTime:'11:00',endTime:'11:30'},{startTime:'14:00',endTime:'14:30'},{startTime:'14:30',endTime:'15:00'},{startTime:'15:00',endTime:'15:30'},{startTime:'15:30',endTime:'16:00'},{startTime:'16:00',endTime:'16:30'}];try{const response=await apiService.getAvailableSlots(doctor._id,selectedDate);const apiSlots=response.data||response.slots||[];// Use API slots if available, otherwise use default slots\nsetAvailableSlots(apiSlots.length>0?apiSlots:defaultSlots);}catch(error){console.error('Error loading slots:',error);// Always set default slots if API fails\nsetAvailableSlots(defaultSlots);}finally{setSlotsLoading(false);}};const handleBooking=async e=>{e.preventDefault();if(!doctor||!selectedDate||!selectedTime||!reason){alert('Please fill all required fields');return;}// Check if user is logged in\nconst token=localStorage.getItem('token');if(!token){alert('Please sign in to book an appointment.');return;}setLoading(true);try{const appointmentData={doctorId:doctor._id,appointmentDate:selectedDate,timeSlot:{startTime:selectedTime,endTime:getEndTime(selectedTime)},reason:reason==='Other'?customReason:reason,symptoms:[...symptoms,...customSymptoms.split(',').map(s=>s.trim()).filter(s=>s)]};console.log('Booking appointment with data:',appointmentData);// Directly book appointment without payment\nconst response=await apiService.bookAppointment(appointmentData);console.log('Booking response:',response);alert('Appointment booked successfully!');onAppointmentBooked===null||onAppointmentBooked===void 0?void 0:onAppointmentBooked();onClose();// Reset form\nsetSelectedDate('');setSelectedTime('');setReason('');setCustomReason('');setSymptoms([]);setCustomSymptoms('');}catch(error){console.error('Booking error:',error);alert(error.message||'Failed to book appointment');}finally{setLoading(false);}};const handlePaymentSuccess=async()=>{try{const response=await apiService.bookAppointment(appointmentData);console.log('Booking response:',response);onAppointmentBooked===null||onAppointmentBooked===void 0?void 0:onAppointmentBooked();// Refresh appointments\nsetShowPayment(false);onClose();// Reset form\nsetSelectedDate('');setSelectedTime('');setReason('');setCustomReason('');setSymptoms([]);setCustomSymptoms('');}catch(error){console.error('Booking error:',error);alert(error.message||'Failed to book appointment');}};const getEndTime=startTime=>{const[hours,minutes]=startTime.split(':').map(Number);const endHours=hours+(minutes===30?1:0);const endMinutes=minutes===30?0:30;return\"\".concat(endHours.toString().padStart(2,'0'),\":\").concat(endMinutes.toString().padStart(2,'0'));};const getMinDate=()=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);return tomorrow.toISOString().split('T')[0];};if(!isOpen||!doctor)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden transform transition-all duration-300 scale-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative gradient-primary text-white p-6 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black opacity-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDCC5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl md:text-2xl font-bold font-display\",children:\"Book Appointment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-indigo-200 text-sm\",children:\"Schedule your consultation\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-15 backdrop-blur-sm rounded-2xl p-4 border border-white border-opacity-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xl\",children:doctor.name.split(' ').map(n=>n[0]).join('')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white font-display\",children:[\"Dr. \",doctor.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-indigo-200 font-medium\",children:doctor.specialty}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-400 bg-opacity-20 px-3 py-1 rounded-full\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-cyan-100 text-sm font-semibold\",children:[\"\\u20B9\",doctor.consultationFee]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-300 mr-1\",children:\"\\u2B50\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-medium\",children:doctor.rating})]})]})]})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"ml-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-all duration-200 transform hover:scale-110\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5 text-white\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 max-h-[35vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBooking,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-white\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-semibold text-gray-900\",children:\"Select Date\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-4 border border-blue-200\",children:/*#__PURE__*/_jsx(AvailabilityCalendar,{doctor:doctor,selectedDate:selectedDate,onDateSelect:setSelectedDate})})]}),selectedDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-white\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-semibold text-gray-900\",children:\"Select Time\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-4 border border-green-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-3\",children:slotsLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-medium\",children:\"Loading available slots...\"})]}):availableSlots.length>0?availableSlots.map(slot=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSelectedTime(slot.startTime),className:\"p-3 text-sm font-medium rounded-xl border-2 transition-all duration-200 transform hover:scale-105 \".concat(selectedTime===slot.startTime?'bg-gradient-to-r from-blue-600 to-purple-600 text-white border-blue-600 shadow-lg':'bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:bg-blue-50'),children:slot.startTime},slot.startTime)):/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u23F0\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-medium\",children:\"No slots available for this date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Please select another date\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-bold\",children:\"\\uD83D\\uDCDD\"})}),/*#__PURE__*/_jsxs(\"label\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Reason for Visit \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:reason,onChange:e=>setReason(e.target.value),required:true,className:\"w-full px-4 py-4 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl focus:ring-4 focus:ring-purple-200 focus:border-purple-400 transition-all duration-200 text-gray-900 appearance-none cursor-pointer\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select reason for visit\"}),reasonOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-400\",children:\"\\uD83C\\uDFE5\"})})]}),reason==='Other'&&/*#__PURE__*/_jsx(\"div\",{className:\"relative animate-fade-in\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customReason,onChange:e=>setCustomReason(e.target.value),required:true,placeholder:\"Please specify your reason\",className:\"w-full px-4 py-3 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-400 transition-all duration-200 text-gray-900 placeholder-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-bold\",children:\"\\uD83D\\uDC8A\"})}),/*#__PURE__*/_jsxs(\"label\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Symptoms \",/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm font-normal\",children:\"(Optional)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200 rounded-2xl p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Select symptoms you're experiencing:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2 mb-4\",children:symptomOptions.map(symptom=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 cursor-pointer group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:symptoms.includes(symptom),onChange:e=>{if(e.target.checked){setSymptoms([...symptoms,symptom]);}else{setSymptoms(symptoms.filter(s=>s!==symptom));}},className:\"w-4 h-4 text-orange-600 bg-white border-2 border-orange-300 rounded focus:ring-orange-500 focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 group-hover:text-orange-700 transition-colors\",children:symptom})]},symptom))}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"textarea\",{value:customSymptoms,onChange:e=>setCustomSymptoms(e.target.value),placeholder:\"Any other symptoms? (comma separated)\",rows:2,className:\"w-full px-3 py-2 bg-white border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none text-sm\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-blue-50 px-4 py-3 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleBooking,disabled:loading,className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Booking...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Book Appointment\"})]})})]})})]}),/*#__PURE__*/_jsx(PaymentModal,{isOpen:showPayment,onClose:()=>setShowPayment(false),amount:(doctor===null||doctor===void 0?void 0:doctor.consultationFee)||0,doctorName:(doctor===null||doctor===void 0?void 0:doctor.name)||'',onPaymentSuccess:handlePaymentSuccess})]});};export default AppointmentModal;","map":{"version":3,"names":["React","useState","useEffect","X","Calendar","Clock","apiService","PaymentModal","AvailabilityCalendar","jsx","_jsx","jsxs","_jsxs","styles","document","styleSheet","createElement","textContent","head","appendChild","AppointmentModal","_ref","isOpen","onClose","doctor","onAppointmentBooked","selectedDate","setSelectedDate","selectedTime","setSelectedTime","reason","setReason","customReason","setCustomReason","symptoms","setSymptoms","customSymptoms","setCustomSymptoms","availableSlots","setAvailableSlots","loading","setLoading","slotsLoading","setSlotsLoading","showPayment","setShowPayment","appointmentData","setAppointmentData","reasonOptions","symptomOptions","loadAvailableSlots","defaultSlots","startTime","endTime","response","getAvailableSlots","_id","apiSlots","data","slots","length","error","console","handleBooking","e","preventDefault","alert","token","localStorage","getItem","doctorId","appointmentDate","timeSlot","getEndTime","split","map","s","trim","filter","log","bookAppointment","message","handlePaymentSuccess","hours","minutes","Number","endHours","endMinutes","concat","toString","padStart","getMinDate","tomorrow","Date","setDate","getDate","toISOString","className","children","name","n","join","specialty","consultationFee","rating","onClick","onSubmit","onDateSelect","slot","type","value","onChange","target","required","option","placeholder","symptom","checked","includes","rows","disabled","amount","doctorName","onPaymentSuccess"],"sources":["c:/Users/rizwa/Desktop/Prescure/Prescure/src/components/AppointmentModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, Calendar, Clock } from 'lucide-react';\nimport { Doctor } from '../types';\nimport apiService from '../services/api';\nimport PaymentModal from './PaymentModal';\nimport AvailabilityCalendar from './AvailabilityCalendar';\n\n// Add custom CSS for animations\nconst styles = `\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  .animate-fade-in {\n    animation: fade-in 0.5s ease-out;\n  }\n`;\n\n// Inject styles\nif (typeof document !== 'undefined') {\n  const styleSheet = document.createElement('style');\n  styleSheet.textContent = styles;\n  document.head.appendChild(styleSheet);\n}\n\ninterface AppointmentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  doctor: Doctor | null;\n  onAppointmentBooked?: () => void;\n}\n\nconst AppointmentModal: React.FC<AppointmentModalProps> = ({ isOpen, onClose, doctor, onAppointmentBooked }) => {\n  const [selectedDate, setSelectedDate] = useState('');\n  const [selectedTime, setSelectedTime] = useState('');\n  const [reason, setReason] = useState('');\n  const [customReason, setCustomReason] = useState('');\n  const [symptoms, setSymptoms] = useState<string[]>([]);\n  const [customSymptoms, setCustomSymptoms] = useState('');\n  const [availableSlots, setAvailableSlots] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [slotsLoading, setSlotsLoading] = useState(false);\n  const [showPayment, setShowPayment] = useState(false);\n  const [appointmentData, setAppointmentData] = useState<any>(null);\n\n  const reasonOptions = [\n    'Regular Checkup',\n    'Follow-up Visit',\n    'Chest Pain',\n    'Headache',\n    'Fever',\n    'Cough & Cold',\n    'Stomach Pain',\n    'Back Pain',\n    'Skin Problem',\n    'Blood Pressure Check',\n    'Diabetes Consultation',\n    'Vaccination',\n    'Health Certificate',\n    'Other'\n  ];\n\n  const symptomOptions = [\n    'Fever',\n    'Headache',\n    'Cough',\n    'Sore Throat',\n    'Runny Nose',\n    'Body Ache',\n    'Nausea',\n    'Vomiting',\n    'Diarrhea',\n    'Constipation',\n    'Chest Pain',\n    'Shortness of Breath',\n    'Dizziness',\n    'Fatigue',\n    'Loss of Appetite',\n    'Sleep Problems',\n    'Anxiety',\n    'Depression',\n    'Skin Rash',\n    'Joint Pain'\n  ];\n\n  useEffect(() => {\n    if (isOpen && doctor && selectedDate) {\n      loadAvailableSlots();\n    } else if (!selectedDate) {\n      setAvailableSlots([]);\n      setSelectedTime('');\n    }\n  }, [isOpen, doctor, selectedDate]);\n\n  const loadAvailableSlots = async () => {\n    if (!doctor || !selectedDate) return;\n    \n    setSlotsLoading(true);\n    \n    // Always provide default slots for any selected date\n    const defaultSlots = [\n      { startTime: '09:00', endTime: '09:30' },\n      { startTime: '09:30', endTime: '10:00' },\n      { startTime: '10:00', endTime: '10:30' },\n      { startTime: '10:30', endTime: '11:00' },\n      { startTime: '11:00', endTime: '11:30' },\n      { startTime: '14:00', endTime: '14:30' },\n      { startTime: '14:30', endTime: '15:00' },\n      { startTime: '15:00', endTime: '15:30' },\n      { startTime: '15:30', endTime: '16:00' },\n      { startTime: '16:00', endTime: '16:30' }\n    ];\n    \n    try {\n      const response = await apiService.getAvailableSlots(doctor._id, selectedDate);\n      const apiSlots = response.data || response.slots || [];\n      \n      // Use API slots if available, otherwise use default slots\n      setAvailableSlots(apiSlots.length > 0 ? apiSlots : defaultSlots);\n    } catch (error) {\n      console.error('Error loading slots:', error);\n      // Always set default slots if API fails\n      setAvailableSlots(defaultSlots);\n    } finally {\n      setSlotsLoading(false);\n    }\n  };\n\n  const handleBooking = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!doctor || !selectedDate || !selectedTime || !reason) {\n      alert('Please fill all required fields');\n      return;\n    }\n\n    // Check if user is logged in\n    const token = localStorage.getItem('token');\n    if (!token) {\n      alert('Please sign in to book an appointment.');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const appointmentData = {\n        doctorId: doctor._id,\n        appointmentDate: selectedDate,\n        timeSlot: {\n          startTime: selectedTime,\n          endTime: getEndTime(selectedTime)\n        },\n        reason: reason === 'Other' ? customReason : reason,\n        symptoms: [...symptoms, ...customSymptoms.split(',').map(s => s.trim()).filter(s => s)]\n      };\n\n      console.log('Booking appointment with data:', appointmentData);\n      \n      // Directly book appointment without payment\n      const response = await apiService.bookAppointment(appointmentData);\n      console.log('Booking response:', response);\n      \n      alert('Appointment booked successfully!');\n      onAppointmentBooked?.();\n      onClose();\n      \n      // Reset form\n      setSelectedDate('');\n      setSelectedTime('');\n      setReason('');\n      setCustomReason('');\n      setSymptoms([]);\n      setCustomSymptoms('');\n    } catch (error: any) {\n      console.error('Booking error:', error);\n      alert(error.message || 'Failed to book appointment');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePaymentSuccess = async () => {\n    try {\n      const response = await apiService.bookAppointment(appointmentData);\n      console.log('Booking response:', response);\n      onAppointmentBooked?.(); // Refresh appointments\n      setShowPayment(false);\n      onClose();\n      // Reset form\n      setSelectedDate('');\n      setSelectedTime('');\n      setReason('');\n      setCustomReason('');\n      setSymptoms([]);\n      setCustomSymptoms('');\n    } catch (error: any) {\n      console.error('Booking error:', error);\n      alert(error.message || 'Failed to book appointment');\n    }\n  };\n\n  const getEndTime = (startTime: string) => {\n    const [hours, minutes] = startTime.split(':').map(Number);\n    const endHours = hours + (minutes === 30 ? 1 : 0);\n    const endMinutes = minutes === 30 ? 0 : 30;\n    return `${endHours.toString().padStart(2, '0')}:${endMinutes.toString().padStart(2, '0')}`;\n  };\n\n  const getMinDate = () => {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  };\n\n  if (!isOpen || !doctor) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-hidden transform transition-all duration-300 scale-100\">\n        {/* Header with gradient background */}\n        <div className=\"relative gradient-primary text-white p-6 overflow-hidden\">\n          <div className=\"absolute inset-0 bg-black opacity-10\"></div>\n          <div className=\"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16\"></div>\n          <div className=\"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12\"></div>\n          \n          <div className=\"relative flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center space-x-3 mb-4\">\n                <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                  <span className=\"text-xl\">üìÖ</span>\n                </div>\n                <div>\n                  <h2 className=\"text-xl md:text-2xl font-bold font-display\">Book Appointment</h2>\n                  <p className=\"text-indigo-200 text-sm\">Schedule your consultation</p>\n                </div>\n              </div>\n              \n              {/* Doctor Info Card */}\n              <div className=\"bg-white bg-opacity-15 backdrop-blur-sm rounded-2xl p-4 border border-white border-opacity-20\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xl\">\n                    {doctor.name.split(' ').map(n => n[0]).join('')}\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-bold text-white font-display\">Dr. {doctor.name}</h3>\n                    <p className=\"text-indigo-200 font-medium\">{doctor.specialty}</p>\n                    <div className=\"flex items-center space-x-4 mt-2\">\n                      <div className=\"bg-green-400 bg-opacity-20 px-3 py-1 rounded-full\">\n                        <span className=\"text-cyan-100 text-sm font-semibold\">‚Çπ{doctor.consultationFee}</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <span className=\"text-yellow-300 mr-1\">‚≠ê</span>\n                        <span className=\"text-white text-sm font-medium\">{doctor.rating}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <button \n              onClick={onClose} \n              className=\"ml-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-all duration-200 transform hover:scale-110\"\n            >\n              <X className=\"h-5 w-5 text-white\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Form Content */}\n        <div className=\"p-4 max-h-[35vh] overflow-y-auto\">\n          <form onSubmit={handleBooking} className=\"space-y-8\">\n            {/* Date Selection */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-2 mb-4\">\n                <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                  <Calendar className=\"h-4 w-4 text-white\" />\n                </div>\n                <label className=\"text-lg font-semibold text-gray-900\">\n                  Select Date\n                </label>\n              </div>\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-4 border border-blue-200\">\n                <AvailabilityCalendar\n                  doctor={doctor}\n                  selectedDate={selectedDate}\n                  onDateSelect={setSelectedDate}\n                />\n              </div>\n            </div>\n\n            {/* Time Selection */}\n            {selectedDate && (\n              <div className=\"space-y-4 animate-fade-in\">\n                <div className=\"flex items-center space-x-2 mb-4\">\n                  <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center\">\n                    <Clock className=\"h-4 w-4 text-white\" />\n                  </div>\n                  <label className=\"text-lg font-semibold text-gray-900\">\n                    Select Time\n                  </label>\n                </div>\n                <div className=\"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-4 border border-green-200\">\n                  <div className=\"grid grid-cols-3 gap-3\">\n                    {slotsLoading ? (\n                      <div className=\"col-span-3 text-center py-8\">\n                        <div className=\"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-3\"></div>\n                        <p className=\"text-gray-500 font-medium\">Loading available slots...</p>\n                      </div>\n                    ) : availableSlots.length > 0 ? (\n                      availableSlots.map((slot) => (\n                        <button\n                          key={slot.startTime}\n                          type=\"button\"\n                          onClick={() => setSelectedTime(slot.startTime)}\n                          className={`p-3 text-sm font-medium rounded-xl border-2 transition-all duration-200 transform hover:scale-105 ${\n                            selectedTime === slot.startTime\n                              ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white border-blue-600 shadow-lg'\n                              : 'bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:bg-blue-50'\n                          }`}\n                        >\n                          {slot.startTime}\n                        </button>\n                      ))\n                    ) : (\n                      <div className=\"col-span-3 text-center py-8\">\n                        <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                          <span className=\"text-2xl\">‚è∞</span>\n                        </div>\n                        <p className=\"text-gray-500 font-medium\">No slots available for this date</p>\n                        <p className=\"text-gray-400 text-sm\">Please select another date</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Reason for Visit */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-2 mb-4\">\n                <div className=\"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center\">\n                  <span className=\"text-white text-sm font-bold\">üìù</span>\n                </div>\n                <label className=\"text-lg font-semibold text-gray-900\">\n                  Reason for Visit <span className=\"text-red-500\">*</span>\n                </label>\n              </div>\n              <div className=\"relative\">\n                <select\n                  value={reason}\n                  onChange={(e) => setReason(e.target.value)}\n                  required\n                  className=\"w-full px-4 py-4 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-2xl focus:ring-4 focus:ring-purple-200 focus:border-purple-400 transition-all duration-200 text-gray-900 appearance-none cursor-pointer\"\n                >\n                  <option value=\"\">Select reason for visit</option>\n                  {reasonOptions.map((option) => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n                <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                  <span className=\"text-purple-400\">üè•</span>\n                </div>\n              </div>\n              {reason === 'Other' && (\n                <div className=\"relative animate-fade-in\">\n                  <input\n                    type=\"text\"\n                    value={customReason}\n                    onChange={(e) => setCustomReason(e.target.value)}\n                    required\n                    placeholder=\"Please specify your reason\"\n                    className=\"w-full px-4 py-3 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl focus:ring-4 focus:ring-purple-200 focus:border-purple-400 transition-all duration-200 text-gray-900 placeholder-gray-500\"\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* Symptoms */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center space-x-2 mb-4\">\n                <div className=\"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center\">\n                  <span className=\"text-white text-sm font-bold\">üíä</span>\n                </div>\n                <label className=\"text-lg font-semibold text-gray-900\">\n                  Symptoms <span className=\"text-gray-400 text-sm font-normal\">(Optional)</span>\n                </label>\n              </div>\n              <div className=\"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200 rounded-2xl p-4\">\n                <p className=\"text-sm text-gray-600 mb-3\">Select symptoms you're experiencing:</p>\n                <div className=\"grid grid-cols-2 gap-2 mb-4\">\n                  {symptomOptions.map((symptom) => (\n                    <label key={symptom} className=\"flex items-center space-x-2 cursor-pointer group\">\n                      <input\n                        type=\"checkbox\"\n                        checked={symptoms.includes(symptom)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            setSymptoms([...symptoms, symptom]);\n                          } else {\n                            setSymptoms(symptoms.filter(s => s !== symptom));\n                          }\n                        }}\n                        className=\"w-4 h-4 text-orange-600 bg-white border-2 border-orange-300 rounded focus:ring-orange-500 focus:ring-2\"\n                      />\n                      <span className=\"text-sm text-gray-700 group-hover:text-orange-700 transition-colors\">{symptom}</span>\n                    </label>\n                  ))}\n                </div>\n                <div className=\"relative\">\n                  <textarea\n                    value={customSymptoms}\n                    onChange={(e) => setCustomSymptoms(e.target.value)}\n                    placeholder=\"Any other symptoms? (comma separated)\"\n                    rows={2}\n                    className=\"w-full px-3 py-2 bg-white border-2 border-orange-200 rounded-xl focus:ring-4 focus:ring-orange-200 focus:border-orange-400 transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        {/* Footer with Action Buttons */}\n        <div className=\"bg-gradient-to-r from-gray-50 to-blue-50 px-4 py-3 border-t border-gray-200\">\n          <div className=\"flex space-x-3\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              onClick={handleBooking}\n              disabled={loading}\n              className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n            >\n              {loading ? (\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                  <span>Booking...</span>\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <span>üìÖ</span>\n                  <span>Book Appointment</span>\n                </div>\n              )}\n            </button>\n          </div>\n          \n\n        </div>\n      </div>\n      \n      <PaymentModal\n        isOpen={showPayment}\n        onClose={() => setShowPayment(false)}\n        amount={doctor?.consultationFee || 0}\n        doctorName={doctor?.name || ''}\n        onPaymentSuccess={handlePaymentSuccess}\n      />\n    </div>\n  );\n};\n\nexport default AppointmentModal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,CAAC,CAAEC,QAAQ,CAAEC,KAAK,KAAQ,cAAc,CAEjD,MAAO,CAAAC,UAAU,KAAM,iBAAiB,CACxC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,oBAAoB,KAAM,wBAAwB,CAEzD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,MAAM,uPAeX,CAED;AACA,GAAI,MAAO,CAAAC,QAAQ,GAAK,WAAW,CAAE,CACnC,KAAM,CAAAC,UAAU,CAAGD,QAAQ,CAACE,aAAa,CAAC,OAAO,CAAC,CAClDD,UAAU,CAACE,WAAW,CAAGJ,MAAM,CAC/BC,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACJ,UAAU,CAAC,CACvC,CASA,KAAM,CAAAK,gBAAiD,CAAGC,IAAA,EAAsD,IAArD,CAAEC,MAAM,CAAEC,OAAO,CAAEC,MAAM,CAAEC,mBAAoB,CAAC,CAAAJ,IAAA,CACzG,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC2B,YAAY,CAAEC,eAAe,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC6B,MAAM,CAAEC,SAAS,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC+B,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACiC,QAAQ,CAAEC,WAAW,CAAC,CAAGlC,QAAQ,CAAW,EAAE,CAAC,CACtD,KAAM,CAACmC,cAAc,CAAEC,iBAAiB,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACqC,cAAc,CAAEC,iBAAiB,CAAC,CAAGtC,QAAQ,CAAQ,EAAE,CAAC,CAC/D,KAAM,CAACuC,OAAO,CAAEC,UAAU,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyC,YAAY,CAAEC,eAAe,CAAC,CAAG1C,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC2C,WAAW,CAAEC,cAAc,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC6C,eAAe,CAAEC,kBAAkB,CAAC,CAAG9C,QAAQ,CAAM,IAAI,CAAC,CAEjE,KAAM,CAAA+C,aAAa,CAAG,CACpB,iBAAiB,CACjB,iBAAiB,CACjB,YAAY,CACZ,UAAU,CACV,OAAO,CACP,cAAc,CACd,cAAc,CACd,WAAW,CACX,cAAc,CACd,sBAAsB,CACtB,uBAAuB,CACvB,aAAa,CACb,oBAAoB,CACpB,OAAO,CACR,CAED,KAAM,CAAAC,cAAc,CAAG,CACrB,OAAO,CACP,UAAU,CACV,OAAO,CACP,aAAa,CACb,YAAY,CACZ,WAAW,CACX,QAAQ,CACR,UAAU,CACV,UAAU,CACV,cAAc,CACd,YAAY,CACZ,qBAAqB,CACrB,WAAW,CACX,SAAS,CACT,kBAAkB,CAClB,gBAAgB,CAChB,SAAS,CACT,YAAY,CACZ,WAAW,CACX,YAAY,CACb,CAED/C,SAAS,CAAC,IAAM,CACd,GAAIoB,MAAM,EAAIE,MAAM,EAAIE,YAAY,CAAE,CACpCwB,kBAAkB,CAAC,CAAC,CACtB,CAAC,IAAM,IAAI,CAACxB,YAAY,CAAE,CACxBa,iBAAiB,CAAC,EAAE,CAAC,CACrBV,eAAe,CAAC,EAAE,CAAC,CACrB,CACF,CAAC,CAAE,CAACP,MAAM,CAAEE,MAAM,CAAEE,YAAY,CAAC,CAAC,CAElC,KAAM,CAAAwB,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CAAC1B,MAAM,EAAI,CAACE,YAAY,CAAE,OAE9BiB,eAAe,CAAC,IAAI,CAAC,CAErB;AACA,KAAM,CAAAQ,YAAY,CAAG,CACnB,CAAEC,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACxC,CAAED,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACzC,CAED,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhD,UAAU,CAACiD,iBAAiB,CAAC/B,MAAM,CAACgC,GAAG,CAAE9B,YAAY,CAAC,CAC7E,KAAM,CAAA+B,QAAQ,CAAGH,QAAQ,CAACI,IAAI,EAAIJ,QAAQ,CAACK,KAAK,EAAI,EAAE,CAEtD;AACApB,iBAAiB,CAACkB,QAAQ,CAACG,MAAM,CAAG,CAAC,CAAGH,QAAQ,CAAGN,YAAY,CAAC,CAClE,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C;AACAtB,iBAAiB,CAACY,YAAY,CAAC,CACjC,CAAC,OAAS,CACRR,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,KAAM,CAAAoB,aAAa,CAAG,KAAO,CAAAC,CAAkB,EAAK,CAClDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACzC,MAAM,EAAI,CAACE,YAAY,EAAI,CAACE,YAAY,EAAI,CAACE,MAAM,CAAE,CACxDoC,KAAK,CAAC,iCAAiC,CAAC,CACxC,OACF,CAEA;AACA,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVD,KAAK,CAAC,wCAAwC,CAAC,CAC/C,OACF,CAEAzB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAK,eAAe,CAAG,CACtBwB,QAAQ,CAAE9C,MAAM,CAACgC,GAAG,CACpBe,eAAe,CAAE7C,YAAY,CAC7B8C,QAAQ,CAAE,CACRpB,SAAS,CAAExB,YAAY,CACvByB,OAAO,CAAEoB,UAAU,CAAC7C,YAAY,CAClC,CAAC,CACDE,MAAM,CAAEA,MAAM,GAAK,OAAO,CAAGE,YAAY,CAAGF,MAAM,CAClDI,QAAQ,CAAE,CAAC,GAAGA,QAAQ,CAAE,GAAGE,cAAc,CAACsC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACF,CAAC,EAAIA,CAAC,CAAC,CACxF,CAAC,CAEDd,OAAO,CAACiB,GAAG,CAAC,gCAAgC,CAAEjC,eAAe,CAAC,CAE9D;AACA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAhD,UAAU,CAAC0E,eAAe,CAAClC,eAAe,CAAC,CAClEgB,OAAO,CAACiB,GAAG,CAAC,mBAAmB,CAAEzB,QAAQ,CAAC,CAE1CY,KAAK,CAAC,kCAAkC,CAAC,CACzCzC,mBAAmB,SAAnBA,mBAAmB,iBAAnBA,mBAAmB,CAAG,CAAC,CACvBF,OAAO,CAAC,CAAC,CAET;AACAI,eAAe,CAAC,EAAE,CAAC,CACnBE,eAAe,CAAC,EAAE,CAAC,CACnBE,SAAS,CAAC,EAAE,CAAC,CACbE,eAAe,CAAC,EAAE,CAAC,CACnBE,WAAW,CAAC,EAAE,CAAC,CACfE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAE,MAAOwB,KAAU,CAAE,CACnBC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtCK,KAAK,CAACL,KAAK,CAACoB,OAAO,EAAI,4BAA4B,CAAC,CACtD,CAAC,OAAS,CACRxC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAyC,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAA5B,QAAQ,CAAG,KAAM,CAAAhD,UAAU,CAAC0E,eAAe,CAAClC,eAAe,CAAC,CAClEgB,OAAO,CAACiB,GAAG,CAAC,mBAAmB,CAAEzB,QAAQ,CAAC,CAC1C7B,mBAAmB,SAAnBA,mBAAmB,iBAAnBA,mBAAmB,CAAG,CAAC,CAAE;AACzBoB,cAAc,CAAC,KAAK,CAAC,CACrBtB,OAAO,CAAC,CAAC,CACT;AACAI,eAAe,CAAC,EAAE,CAAC,CACnBE,eAAe,CAAC,EAAE,CAAC,CACnBE,SAAS,CAAC,EAAE,CAAC,CACbE,eAAe,CAAC,EAAE,CAAC,CACnBE,WAAW,CAAC,EAAE,CAAC,CACfE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAE,MAAOwB,KAAU,CAAE,CACnBC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtCK,KAAK,CAACL,KAAK,CAACoB,OAAO,EAAI,4BAA4B,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAR,UAAU,CAAIrB,SAAiB,EAAK,CACxC,KAAM,CAAC+B,KAAK,CAAEC,OAAO,CAAC,CAAGhC,SAAS,CAACsB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACU,MAAM,CAAC,CACzD,KAAM,CAAAC,QAAQ,CAAGH,KAAK,EAAIC,OAAO,GAAK,EAAE,CAAG,CAAC,CAAG,CAAC,CAAC,CACjD,KAAM,CAAAG,UAAU,CAAGH,OAAO,GAAK,EAAE,CAAG,CAAC,CAAG,EAAE,CAC1C,SAAAI,MAAA,CAAUF,QAAQ,CAACG,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,MAAAF,MAAA,CAAID,UAAU,CAACE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC1F,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAC3BD,QAAQ,CAACE,OAAO,CAACF,QAAQ,CAACG,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CACxC,MAAO,CAAAH,QAAQ,CAACI,WAAW,CAAC,CAAC,CAACtB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC7C,CAAC,CAED,GAAI,CAACpD,MAAM,EAAI,CAACE,MAAM,CAAE,MAAO,KAAI,CAEnC,mBACEZ,KAAA,QAAKqF,SAAS,CAAC,iGAAiG,CAAAC,QAAA,eAC9GtF,KAAA,QAAKqF,SAAS,CAAC,+HAA+H,CAAAC,QAAA,eAE5ItF,KAAA,QAAKqF,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExF,IAAA,QAAKuF,SAAS,CAAC,sCAAsC,CAAM,CAAC,cAC5DvF,IAAA,QAAKuF,SAAS,CAAC,iFAAiF,CAAM,CAAC,cACvGvF,IAAA,QAAKuF,SAAS,CAAC,mFAAmF,CAAM,CAAC,cAEzGrF,KAAA,QAAKqF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDtF,KAAA,QAAKqF,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBtF,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FxF,IAAA,SAAMuF,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CAChC,CAAC,cACNtF,KAAA,QAAAsF,QAAA,eACExF,IAAA,OAAIuF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAChFxF,IAAA,MAAGuF,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,EAClE,CAAC,EACH,CAAC,cAGNxF,IAAA,QAAKuF,SAAS,CAAC,+FAA+F,CAAAC,QAAA,cAC5GtF,KAAA,QAAKqF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxF,IAAA,QAAKuF,SAAS,CAAC,qIAAqI,CAAAC,QAAA,CACjJ1E,MAAM,CAAC2E,IAAI,CAACzB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACyB,CAAC,EAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAC5C,CAAC,cACNzF,KAAA,QAAKqF,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBtF,KAAA,OAAIqF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,EAAC,MAAI,CAAC1E,MAAM,CAAC2E,IAAI,EAAK,CAAC,cAChFzF,IAAA,MAAGuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAE1E,MAAM,CAAC8E,SAAS,CAAI,CAAC,cACjE1F,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChEtF,KAAA,SAAMqF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,EAAC,QAAC,CAAC1E,MAAM,CAAC+E,eAAe,EAAO,CAAC,CACnF,CAAC,cACN3F,KAAA,QAAKqF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxF,IAAA,SAAMuF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cAC/CxF,IAAA,SAAMuF,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAE1E,MAAM,CAACgF,MAAM,CAAO,CAAC,EACpE,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAEN9F,IAAA,WACE+F,OAAO,CAAElF,OAAQ,CACjB0E,SAAS,CAAC,+JAA+J,CAAAC,QAAA,cAEzKxF,IAAA,CAACP,CAAC,EAAC8F,SAAS,CAAC,oBAAoB,CAAE,CAAC,CAC9B,CAAC,EACN,CAAC,EACH,CAAC,cAGNvF,IAAA,QAAKuF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,cAC/CtF,KAAA,SAAM8F,QAAQ,CAAE3C,aAAc,CAACkC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAElDtF,KAAA,QAAKqF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtF,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,oGAAoG,CAAAC,QAAA,cACjHxF,IAAA,CAACN,QAAQ,EAAC6F,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACxC,CAAC,cACNvF,IAAA,UAAOuF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,aAEvD,CAAO,CAAC,EACL,CAAC,cACNxF,IAAA,QAAKuF,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChGxF,IAAA,CAACF,oBAAoB,EACnBgB,MAAM,CAAEA,MAAO,CACfE,YAAY,CAAEA,YAAa,CAC3BiF,YAAY,CAAEhF,eAAgB,CAC/B,CAAC,CACC,CAAC,EACH,CAAC,CAGLD,YAAY,eACXd,KAAA,QAAKqF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCtF,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAChHxF,IAAA,CAACL,KAAK,EAAC4F,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACrC,CAAC,cACNvF,IAAA,UAAOuF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,aAEvD,CAAO,CAAC,EACL,CAAC,cACNxF,IAAA,QAAKuF,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChGxF,IAAA,QAAKuF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCxD,YAAY,cACX9B,KAAA,QAAKqF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxF,IAAA,QAAKuF,SAAS,CAAC,8FAA8F,CAAM,CAAC,cACpHvF,IAAA,MAAGuF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,EACpE,CAAC,CACJ5D,cAAc,CAACsB,MAAM,CAAG,CAAC,CAC3BtB,cAAc,CAACqC,GAAG,CAAEiC,IAAI,eACtBlG,IAAA,WAEEmG,IAAI,CAAC,QAAQ,CACbJ,OAAO,CAAEA,CAAA,GAAM5E,eAAe,CAAC+E,IAAI,CAACxD,SAAS,CAAE,CAC/C6C,SAAS,sGAAAT,MAAA,CACP5D,YAAY,GAAKgF,IAAI,CAACxD,SAAS,CAC3B,mFAAmF,CACnF,+EAA+E,CAClF,CAAA8C,QAAA,CAEFU,IAAI,CAACxD,SAAS,EATVwD,IAAI,CAACxD,SAUJ,CACT,CAAC,cAEFxC,KAAA,QAAKqF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxF,IAAA,QAAKuF,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FxF,IAAA,SAAMuF,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,CAChC,CAAC,cACNxF,IAAA,MAAGuF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,kCAAgC,CAAG,CAAC,cAC7ExF,IAAA,MAAGuF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,EAChE,CACN,CACE,CAAC,CACH,CAAC,EACH,CACN,cAGDtF,KAAA,QAAKqF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtF,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,oGAAoG,CAAAC,QAAA,cACjHxF,IAAA,SAAMuF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACrD,CAAC,cACNtF,KAAA,UAAOqF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,EAAC,mBACpC,cAAAxF,IAAA,SAAMuF,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACnD,CAAC,EACL,CAAC,cACNtF,KAAA,QAAKqF,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtF,KAAA,WACEkG,KAAK,CAAEhF,MAAO,CACdiF,QAAQ,CAAG/C,CAAC,EAAKjC,SAAS,CAACiC,CAAC,CAACgD,MAAM,CAACF,KAAK,CAAE,CAC3CG,QAAQ,MACRhB,SAAS,CAAC,wOAAwO,CAAAC,QAAA,eAElPxF,IAAA,WAAQoG,KAAK,CAAC,EAAE,CAAAZ,QAAA,CAAC,yBAAuB,CAAQ,CAAC,CAChDlD,aAAa,CAAC2B,GAAG,CAAEuC,MAAM,eACxBxG,IAAA,WAAqBoG,KAAK,CAAEI,MAAO,CAAAhB,QAAA,CAAEgB,MAAM,EAA9BA,MAAuC,CACrD,CAAC,EACI,CAAC,cACTxG,IAAA,QAAKuF,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cACtFxF,IAAA,SAAMuF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACxC,CAAC,EACH,CAAC,CACLpE,MAAM,GAAK,OAAO,eACjBpB,IAAA,QAAKuF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCxF,IAAA,UACEmG,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE9E,YAAa,CACpB+E,QAAQ,CAAG/C,CAAC,EAAK/B,eAAe,CAAC+B,CAAC,CAACgD,MAAM,CAACF,KAAK,CAAE,CACjDG,QAAQ,MACRE,WAAW,CAAC,4BAA4B,CACxClB,SAAS,CAAC,6NAA6N,CACxO,CAAC,CACC,CACN,EACE,CAAC,cAGNrF,KAAA,QAAKqF,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtF,KAAA,QAAKqF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CxF,IAAA,QAAKuF,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAChHxF,IAAA,SAAMuF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,CACrD,CAAC,cACNtF,KAAA,UAAOqF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,EAAC,WAC5C,cAAAxF,IAAA,SAAMuF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,EACzE,CAAC,EACL,CAAC,cACNtF,KAAA,QAAKqF,SAAS,CAAC,sFAAsF,CAAAC,QAAA,eACnGxF,IAAA,MAAGuF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,sCAAoC,CAAG,CAAC,cAClFxF,IAAA,QAAKuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCjD,cAAc,CAAC0B,GAAG,CAAEyC,OAAO,eAC1BxG,KAAA,UAAqBqF,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/ExF,IAAA,UACEmG,IAAI,CAAC,UAAU,CACfQ,OAAO,CAAEnF,QAAQ,CAACoF,QAAQ,CAACF,OAAO,CAAE,CACpCL,QAAQ,CAAG/C,CAAC,EAAK,CACf,GAAIA,CAAC,CAACgD,MAAM,CAACK,OAAO,CAAE,CACpBlF,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEkF,OAAO,CAAC,CAAC,CACrC,CAAC,IAAM,CACLjF,WAAW,CAACD,QAAQ,CAAC4C,MAAM,CAACF,CAAC,EAAIA,CAAC,GAAKwC,OAAO,CAAC,CAAC,CAClD,CACF,CAAE,CACFnB,SAAS,CAAC,wGAAwG,CACnH,CAAC,cACFvF,IAAA,SAAMuF,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAEkB,OAAO,CAAO,CAAC,GAb5FA,OAcL,CACR,CAAC,CACC,CAAC,cACN1G,IAAA,QAAKuF,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBxF,IAAA,aACEoG,KAAK,CAAE1E,cAAe,CACtB2E,QAAQ,CAAG/C,CAAC,EAAK3B,iBAAiB,CAAC2B,CAAC,CAACgD,MAAM,CAACF,KAAK,CAAE,CACnDK,WAAW,CAAC,uCAAuC,CACnDI,IAAI,CAAE,CAAE,CACRtB,SAAS,CAAC,+MAA+M,CAC1N,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,EACF,CAAC,CACJ,CAAC,cAGNvF,IAAA,QAAKuF,SAAS,CAAC,6EAA6E,CAAAC,QAAA,cAC1FtF,KAAA,QAAKqF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxF,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbJ,OAAO,CAAElF,OAAQ,CACjB0E,SAAS,CAAC,kIAAkI,CAAAC,QAAA,CAC7I,QAED,CAAQ,CAAC,cACTxF,IAAA,WACEmG,IAAI,CAAC,QAAQ,CACbJ,OAAO,CAAE1C,aAAc,CACvByD,QAAQ,CAAEhF,OAAQ,CAClByD,SAAS,CAAC,gIAAgI,CAAAC,QAAA,CAEzI1D,OAAO,cACN5B,KAAA,QAAKqF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDxF,IAAA,QAAKuF,SAAS,CAAC,8EAA8E,CAAM,CAAC,cACpGvF,IAAA,SAAAwF,QAAA,CAAM,YAAU,CAAM,CAAC,EACpB,CAAC,cAENtF,KAAA,QAAKqF,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDxF,IAAA,SAAAwF,QAAA,CAAM,cAAE,CAAM,CAAC,cACfxF,IAAA,SAAAwF,QAAA,CAAM,kBAAgB,CAAM,CAAC,EAC1B,CACN,CACK,CAAC,EACN,CAAC,CAGH,CAAC,EACH,CAAC,cAENxF,IAAA,CAACH,YAAY,EACXe,MAAM,CAAEsB,WAAY,CACpBrB,OAAO,CAAEA,CAAA,GAAMsB,cAAc,CAAC,KAAK,CAAE,CACrC4E,MAAM,CAAE,CAAAjG,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAE+E,eAAe,GAAI,CAAE,CACrCmB,UAAU,CAAE,CAAAlG,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAE2E,IAAI,GAAI,EAAG,CAC/BwB,gBAAgB,CAAEzC,oBAAqB,CACxC,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9D,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}