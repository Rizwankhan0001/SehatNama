{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5000/api';\nclass ApiService {\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    };\n  }\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: this.getAuthHeaders(),\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'API request failed');\n      }\n      return data;\n    } catch (error) {\n      console.error('API Error:', error);\n      throw error;\n    }\n  }\n  async getDoctors(params = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/doctors?${queryString}`);\n  }\n  async getDoctor(id) {\n    return this.request(`/doctors/${id}`);\n  }\n  async getSpecialties() {\n    return this.request('/doctors/specialties');\n  }\n  async login(email, password, userType = 'patient') {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password,\n        userType\n      })\n    });\n  }\n  async register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n  async sendOTP(phone, userType) {\n    return this.request('/auth/send-otp', {\n      method: 'POST',\n      body: JSON.stringify({\n        phone,\n        userType\n      })\n    });\n  }\n  async verifyOTP(phone, otp, userType) {\n    return this.request('/auth/verify-otp', {\n      method: 'POST',\n      body: JSON.stringify({\n        phone,\n        otp,\n        userType\n      })\n    });\n  }\n  async bookAppointment(appointmentData) {\n    return this.request('/appointments', {\n      method: 'POST',\n      body: JSON.stringify(appointmentData)\n    });\n  }\n  async getUserAppointments(params = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/appointments?${queryString}`);\n  }\n  async getAvailableSlots(doctorId, date) {\n    return this.request(`/appointments/slots?doctorId=${doctorId}&date=${date}`);\n  }\n  async cancelAppointment(appointmentId) {\n    return this.request(`/appointments/${appointmentId}/cancel`, {\n      method: 'PUT'\n    });\n  }\n  async getUserProfile() {\n    return this.request('/auth/profile');\n  }\n  async updateUserProfile(profileData) {\n    return this.request('/auth/profile', {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","getAuthHeaders","token","localStorage","getItem","Authorization","request","endpoint","options","url","config","headers","response","fetch","data","json","ok","Error","message","error","console","getDoctors","params","queryString","URLSearchParams","toString","getDoctor","id","getSpecialties","login","email","password","userType","method","body","JSON","stringify","register","userData","sendOTP","phone","verifyOTP","otp","bookAppointment","appointmentData","getUserAppointments","getAvailableSlots","doctorId","date","cancelAppointment","appointmentId","getUserProfile","updateUserProfile","profileData"],"sources":["C:/Users/rizwa/Desktop/Prescure/Prescure/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5000/api';\n\nclass ApiService {\n  private getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && { Authorization: `Bearer ${token}` })\n    };\n  }\n\n  async request(endpoint: string, options: RequestInit = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: this.getAuthHeaders(),\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'API request failed');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('API Error:', error);\n      throw error;\n    }\n  }\n\n  async getDoctors(params: any = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/doctors?${queryString}`);\n  }\n\n  async getDoctor(id: string) {\n    return this.request(`/doctors/${id}`);\n  }\n\n  async getSpecialties() {\n    return this.request('/doctors/specialties');\n  }\n\n  async login(email: string, password: string, userType: string = 'patient') {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password, userType })\n    });\n  }\n\n  async register(userData: any) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  async sendOTP(phone: string, userType: string) {\n    return this.request('/auth/send-otp', {\n      method: 'POST',\n      body: JSON.stringify({ phone, userType })\n    });\n  }\n\n  async verifyOTP(phone: string, otp: string, userType: string) {\n    return this.request('/auth/verify-otp', {\n      method: 'POST',\n      body: JSON.stringify({ phone, otp, userType })\n    });\n  }\n\n  async bookAppointment(appointmentData: any) {\n    return this.request('/appointments', {\n      method: 'POST',\n      body: JSON.stringify(appointmentData)\n    });\n  }\n\n  async getUserAppointments(params: any = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/appointments?${queryString}`);\n  }\n\n  async getAvailableSlots(doctorId: string, date: string) {\n    return this.request(`/appointments/slots?doctorId=${doctorId}&date=${date}`);\n  }\n\n  async cancelAppointment(appointmentId: string) {\n    return this.request(`/appointments/${appointmentId}/cancel`, {\n      method: 'PUT'\n    });\n  }\n\n  async getUserProfile() {\n    return this.request('/auth/profile');\n  }\n\n  async updateUserProfile(profileData: any) {\n    return this.request('/auth/profile', {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  }\n}\n\nexport default new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}