{"ast":null,"code":"import _objectSpread from\"c:/Users/rizwa/Desktop/Prescure/Prescure/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE_URL='http://localhost:5000/api';class ApiService{getAuthHeaders(){const token=localStorage.getItem('token');return _objectSpread({'Content-Type':'application/json'},token&&{Authorization:\"Bearer \".concat(token)});}async request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url=\"\".concat(API_BASE_URL).concat(endpoint);const config=_objectSpread({headers:this.getAuthHeaders()},options);try{const response=await fetch(url,config);const data=await response.json();if(!response.ok){throw new Error(data.message||'API request failed');}return data;}catch(error){console.error('API Error:',error);throw error;}}async getDoctors(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const queryString=new URLSearchParams(params).toString();return this.request(\"/doctors?\".concat(queryString));}async getDoctor(id){return this.request(\"/doctors/\".concat(id));}async getSpecialties(){return this.request('/doctors/specialties');}async login(email,password){let userType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'patient';return this.request('/auth/login',{method:'POST',body:JSON.stringify({email,password,userType})});}async register(userData){return this.request('/auth/register',{method:'POST',body:JSON.stringify(userData)});}async sendOTP(phone,userType){return this.request('/auth/send-otp',{method:'POST',body:JSON.stringify({phone,userType})});}async verifyOTP(phone,otp,userType){return this.request('/auth/verify-otp',{method:'POST',body:JSON.stringify({phone,otp,userType})});}async bookAppointment(appointmentData){return this.request('/appointments',{method:'POST',body:JSON.stringify(appointmentData)});}async getUserAppointments(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const queryString=new URLSearchParams(params).toString();return this.request(\"/appointments?\".concat(queryString));}async getAvailableSlots(doctorId,date){return this.request(\"/appointments/slots?doctorId=\".concat(doctorId,\"&date=\").concat(date));}async cancelAppointment(appointmentId){return this.request(\"/appointments/\".concat(appointmentId,\"/cancel\"),{method:'PUT'});}async getUserProfile(){return this.request('/auth/profile');}async updateUserProfile(profileData){return this.request('/auth/profile',{method:'PUT',body:JSON.stringify(profileData)});}}export default new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","getAuthHeaders","token","localStorage","getItem","_objectSpread","Authorization","concat","request","endpoint","options","arguments","length","undefined","url","config","headers","response","fetch","data","json","ok","Error","message","error","console","getDoctors","params","queryString","URLSearchParams","toString","getDoctor","id","getSpecialties","login","email","password","userType","method","body","JSON","stringify","register","userData","sendOTP","phone","verifyOTP","otp","bookAppointment","appointmentData","getUserAppointments","getAvailableSlots","doctorId","date","cancelAppointment","appointmentId","getUserProfile","updateUserProfile","profileData"],"sources":["c:/Users/rizwa/Desktop/Prescure/Prescure/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5000/api';\n\nclass ApiService {\n  private getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && { Authorization: `Bearer ${token}` })\n    };\n  }\n\n  async request(endpoint: string, options: RequestInit = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const config = {\n      headers: this.getAuthHeaders(),\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'API request failed');\n      }\n\n      return data;\n    } catch (error) {\n      console.error('API Error:', error);\n      throw error;\n    }\n  }\n\n  async getDoctors(params: any = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/doctors?${queryString}`);\n  }\n\n  async getDoctor(id: string) {\n    return this.request(`/doctors/${id}`);\n  }\n\n  async getSpecialties() {\n    return this.request('/doctors/specialties');\n  }\n\n  async login(email: string, password: string, userType: string = 'patient') {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password, userType })\n    });\n  }\n\n  async register(userData: any) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n\n  async sendOTP(phone: string, userType: string) {\n    return this.request('/auth/send-otp', {\n      method: 'POST',\n      body: JSON.stringify({ phone, userType })\n    });\n  }\n\n  async verifyOTP(phone: string, otp: string, userType: string) {\n    return this.request('/auth/verify-otp', {\n      method: 'POST',\n      body: JSON.stringify({ phone, otp, userType })\n    });\n  }\n\n  async bookAppointment(appointmentData: any) {\n    return this.request('/appointments', {\n      method: 'POST',\n      body: JSON.stringify(appointmentData)\n    });\n  }\n\n  async getUserAppointments(params: any = {}) {\n    const queryString = new URLSearchParams(params).toString();\n    return this.request(`/appointments?${queryString}`);\n  }\n\n  async getAvailableSlots(doctorId: string, date: string) {\n    return this.request(`/appointments/slots?doctorId=${doctorId}&date=${date}`);\n  }\n\n  async cancelAppointment(appointmentId: string) {\n    return this.request(`/appointments/${appointmentId}/cancel`, {\n      method: 'PUT'\n    });\n  }\n\n  async getUserProfile() {\n    return this.request('/auth/profile');\n  }\n\n  async updateUserProfile(profileData: any) {\n    return this.request('/auth/profile', {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  }\n}\n\nexport default new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}