{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{MessageCircle,X,Send,Bot,Calendar}from'lucide-react';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Chatbot=()=>{const[isOpen,setIsOpen]=useState(false);const[messages,setMessages]=useState([{text:\"Hi! I'm SehatNama Assistant. üëã\\n\\nHow can I help you today?\",isBot:true,timestamp:new Date(),options:[\"üîç Find Doctors\",\"üìÖ Book Appointment\",\"üìã My Appointments\",\"üöë Emergency Services\",\"üíä Prescription Refill\",\"üß™ Lab Tests\",\"üí¨ Consult Online\",\"üè• Nearby Hospitals\",\"üí° Health Tips\",\"üìû Contact Support\"]}]);const[input,setInput]=useState('');const[bookingStep,setBookingStep]=useState(null);const[selectedSpecialty,setSelectedSpecialty]=useState('');const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const getBotResponse=userMessage=>{const msg=userMessage.toLowerCase();// Greetings\nif(msg.match(/\\b(hello|hi|hey|good morning|good evening|good afternoon)\\b/)){return{text:\"Hello! Welcome to SehatNama. I can help you find doctors, book appointments, or answer questions about our services.\",options:[\"üîç Find Doctors\",\"üìÖ Book Appointment\",\"üöë Emergency Services\",\"üíä Prescription Refill\",\"üìû Contact Support\"]};}// Booking appointments\nif(msg.match(/\\b(book|schedule|make|üìÖ)\\b.*\\b(appointment|consultation)\\b/)||msg.includes('üìÖ')){return{text:\"Great! Let's book an appointment for you.\\n\\nPlease select a specialty:\",options:[\"‚ù§Ô∏è Cardiology\",\"üß† Neurology\",\"ü¶¥ Orthopedics\",\"üë∂ Pediatrics\",\"ü©∫ General Medicine\",\"üë© Gynecology\",\"üëÅÔ∏è Ophthalmology\",\"ü¶∑ Dentistry\",\"üè† Main Menu\"],showBooking:true};}// My Appointments\nif(msg.includes('my appointment')||msg.includes('üìã')){return{text:\"üìã MY APPOINTMENTS:\\n\\nTo view your appointments:\\n‚Ä¢ Go to 'My Appointments' section\\n‚Ä¢ View upcoming appointments\\n‚Ä¢ Check past appointments\\n‚Ä¢ Cancel or reschedule\\n\\nYou can manage all your bookings there!\",options:[\"üìÖ Book New Appointment\",\"üè† Main Menu\"]};}// Emergency Services\nif(msg.includes('emergency')||msg.includes('urgent')||msg.includes('üöë')){return{text:\"üö® EMERGENCY SERVICES:\\n\\nüöë Ambulance: 102 / 108\\nüè• Emergency Helpline: 112\\n‚òéÔ∏è Our 24/7 Support: +91 1800-123-4567\\n\\n‚ö†Ô∏è For life-threatening emergencies, call 102 immediately!\",options:[\"üè• Nearby Hospitals\",\"üîç Find Doctors\",\"üè† Main Menu\"]};}// Prescription Refill\nif(msg.includes('prescription')||msg.includes('refill')||msg.includes('üíä')){return{text:\"üíä PRESCRIPTION REFILL:\\n\\nTo refill your prescription:\\n1. Upload your prescription\\n2. Select pharmacy\\n3. Choose delivery or pickup\\n\\nDelivery available in 2-4 hours!\",options:[\"üì§ Upload Prescription\",\"üîç Find Pharmacy\",\"üè† Main Menu\"]};}// Lab Tests\nif(msg.includes('lab')||msg.includes('test')||msg.includes('üß™')){return{text:\"üß™ LAB TESTS & DIAGNOSTICS:\\n\\nAvailable services:\\n‚Ä¢ Blood Tests\\n‚Ä¢ X-Ray & Scans\\n‚Ä¢ Health Checkup Packages\\n‚Ä¢ Home Sample Collection\\n\\nGet reports within 24 hours!\",options:[\"üìã Book Lab Test\",\"üè† Home Collection\",\"üè† Main Menu\"]};}// Online Consultation\nif(msg.includes('online')||msg.includes('consult')||msg.includes('üí¨')){return{text:\"üí¨ ONLINE CONSULTATION:\\n\\nConnect with doctors via:\\n‚Ä¢ Video Call\\n‚Ä¢ Voice Call\\n‚Ä¢ Chat\\n\\nAvailable 24/7 for instant consultation!\",options:[\"üìπ Start Video Call\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Nearby Hospitals\nif(msg.includes('hospital')||msg.includes('nearby')||msg.includes('üè•')){return{text:\"üè• NEARBY HOSPITALS:\\n\\nFinding hospitals near you...\\n\\nYou can filter by:\\n‚Ä¢ Distance\\n‚Ä¢ Specialty\\n‚Ä¢ Emergency services\\n‚Ä¢ Insurance accepted\",options:[\"üó∫Ô∏è View on Map\",\"üîç Find Doctors\",\"üè† Main Menu\"]};}// Health Tips\nif(msg.includes('health')||msg.includes('tip')||msg.includes('üí°')){return{text:\"üí° DAILY HEALTH TIPS:\\n\\nüíß Drink 8-10 glasses of water\\nüèÉ Exercise 30 mins daily\\nü•ó Eat balanced, nutritious meals\\nüò¥ Get 7-8 hours of sleep\\nüßò Practice meditation\\nüö≠ Avoid smoking & alcohol\\nüì± Limit screen time\",options:[\"üìÖ Book Health Checkup\",\"üß™ Lab Tests\",\"üè† Main Menu\"]};}// Finding doctors\nif(msg.match(/\\b(find|search|looking for|need|üîç)\\b.*\\b(doctor|specialist|physician)\\b/)||msg.includes('üîç')){return{text:\"You can find doctors by:\\n‚Ä¢ Using the search bar at the top\\n‚Ä¢ Filtering by specialty (Cardiology, Dermatology, etc.)\\n‚Ä¢ Searching by location or city\\n‚Ä¢ Sorting by rating, distance, or price\\n\\nWe have 500+ verified doctors across India!\",options:[\"üè• View Specialties\",\"üìç Find Near Me\",\"üí∞ Check Pricing\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Canceling appointments\nif(msg.match(/\\b(cancel|delete|remove|‚ùå)\\b.*\\b(appointment|booking)\\b/)||msg.includes('‚ùå')){return{text:\"To cancel an appointment:\\n1. Go to 'My Appointments' section\\n2. Find your scheduled appointment\\n3. Click the 'Cancel' button\\n\\nPlease cancel at least 24 hours in advance when possible.\",options:[\"üìÖ Book New Appointment\",\"üìû Contact Support\",\"üè† Main Menu\"]};}// Pricing\nif(msg.match(/\\b(price|fee|cost|charge|how much|üí∞)\\b/)||msg.includes('üí∞')){return{text:\"Consultation fees vary by doctor and specialty:\\n‚Ä¢ General Physician: ‚Çπ300-‚Çπ500\\n‚Ä¢ Specialists: ‚Çπ500-‚Çπ1000\\n‚Ä¢ Super Specialists: ‚Çπ1000-‚Çπ1500\\n\\nYou can see each doctor's exact fee on their profile card.\",options:[\"üîç Find Doctors\",\"üí≥ Payment Methods\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Location services\nif(msg.match(/\\b(location|near me|nearby|closest|distance|üìç)\\b/)||msg.includes('üìç')){return{text:\"To find doctors near you:\\n1. Click 'Use my location' in the search bar\\n2. Allow location access\\n3. We'll show doctors sorted by distance\\n\\nYou can also manually enter your city or area.\",options:[\"üîç Find Doctors\",\"üè• View Specialties\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Specialties\nif(msg.match(/\\b(specialty|specialties|type of doctor|which doctor|üè•)\\b/)||msg.includes('üè•')){return{text:\"We have doctors in 50+ specialties including:\\n‚Ä¢ Cardiology (Heart)\\n‚Ä¢ Dermatology (Skin)\\n‚Ä¢ Neurology (Brain & Nerves)\\n‚Ä¢ Orthopedics (Bones & Joints)\\n‚Ä¢ Pediatrics (Children)\\n‚Ä¢ Gynecology (Women's Health)\\n‚Ä¢ Psychiatry (Mental Health)\\n‚Ä¢ General Medicine\\n\\nAnd many more!\",options:[\"üîç Find Doctors\",\"üìç Find Near Me\",\"üí∞ Check Pricing\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Emergency\nif(msg.match(/\\b(emergency|urgent|critical|serious|ambulance)\\b/)){return{text:\"‚ö†Ô∏è For medical emergencies:\\n‚Ä¢ Call 108 (India Emergency Services)\\n‚Ä¢ Visit the nearest hospital immediately\\n\\nOur platform is for scheduled consultations, not emergency care. Please seek immediate help for urgent medical situations.\",options:[\"üìû Contact Support\",\"üè† Main Menu\"]};}// Payment\nif(msg.match(/\\b(payment|pay|transaction|upi|card|üí≥)\\b/)||msg.includes('üí≥')){return{text:\"We accept multiple payment methods:\\n‚Ä¢ UPI (Google Pay, PhonePe, Paytm)\\n‚Ä¢ Credit/Debit Cards\\n‚Ä¢ Net Banking\\n‚Ä¢ Wallets\\n\\nAll payments are secure and encrypted. You'll receive instant confirmation.\",options:[\"üí∞ Check Pricing\",\"üìÖ Book Appointment\",\"üìû Contact Support\",\"üè† Main Menu\"]};}// Availability/Hours\nif(msg.match(/\\b(hours|time|when|available|open)\\b/)){return{text:\"Our platform is available 24/7 for browsing and booking.\\n\\nDoctor availability varies:\\n‚Ä¢ Check each doctor's profile for their consultation hours\\n‚Ä¢ Most doctors are available 9 AM - 9 PM\\n‚Ä¢ Some offer evening and weekend slots\\n\\nBook anytime, consult as per doctor's schedule!\",options:[\"üîç Find Doctors\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Contact/Support\nif(msg.match(/\\b(contact|support|help|call|email|reach|üìû)\\b/)||msg.includes('üìû')){return{text:\"üìû CONTACT SUPPORT:\\n\\n‚òéÔ∏è Helpline: +91 1800-123-4567\\nüìß Email: support@sehetnama.com\\nüí¨ Live Chat: Available 24/7\\n‚è∞ Response time: Under 5 mins\\n\\nHow can we assist you?\",options:[\"üí¨ Start Live Chat\",\"üìß Send Email\",\"üè† Main Menu\"]};}// Registration/Sign up\nif(msg.match(/\\b(register|sign up|create account|join)\\b/)){return{text:\"To create an account:\\n1. Click 'Sign In' at the top\\n2. Select 'Register'\\n3. Enter your details (name, email, phone)\\n4. Verify your phone number\\n5. Complete your profile\\n\\nIt only takes 2 minutes!\",options:[\"üìÖ Book Appointment\",\"üîç Find Doctors\",\"üìû Need Help?\",\"üè† Main Menu\"]};}// Reviews/Ratings\nif(msg.match(/\\b(review|rating|feedback|testimonial)\\b/)){return{text:\"All our doctors have verified patient reviews and ratings.\\n\\nYou can:\\n‚Ä¢ View ratings (1-5 stars)\\n‚Ä¢ Read patient reviews\\n‚Ä¢ See review count\\n‚Ä¢ Filter by top-rated doctors\\n\\nAfter your consultation, you can also leave a review!\",options:[\"üîç Find Top Rated Doctors\",\"üìÖ Book Appointment\",\"üè† Main Menu\"]};}// Thank you\nif(msg.match(/\\b(thank|thanks|appreciate)\\b/)){return{text:\"You're very welcome! üòä\\n\\nFeel free to ask if you need anything else. Stay healthy and take care!\",options:[\"üîç Find Doctors\",\"üìÖ Book Appointment\",\"üìû Contact Support\",\"üè† Main Menu\"]};}// Goodbye\nif(msg.match(/\\b(bye|goodbye|see you|later)\\b/)){return{text:\"Goodbye! Take care and stay healthy! üëã\\n\\nFeel free to come back anytime you need help. Have a great day!\"};}// Default response\nreturn{text:\"I'm your healthcare assistant! I can help you with:\\n\\nüîç Finding doctors\\nüìÖ Booking appointments\\nüöë Emergency services\\nüíä Prescription refills\\nüß™ Lab tests\\nüí¨ Online consultations\\n\\nWhat would you like to do?\",options:[\"üîç Find Doctors\",\"üìÖ Book Appointment\",\"üöë Emergency Services\",\"üíä Prescription Refill\",\"üß™ Lab Tests\",\"üí¨ Consult Online\"]};};const handleSend=()=>{if(!input.trim())return;const userMessage={text:input,isBot:false,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInput('');setTimeout(()=>{const response=getBotResponse(input);const botMessage={text:response.text,isBot:true,timestamp:new Date(),options:response.options};setMessages(prev=>[...prev,botMessage]);},500);};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};const handleOptionClick=async option=>{setInput(option);const userMessage={text:option,isBot:false,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);// Check if it's a specialty selection for booking\nconst specialties=['Cardiology','Neurology','Orthopedics','Pediatrics','General Medicine','Gynecology','Ophthalmology','Dentistry'];const selectedSpec=specialties.find(s=>option.includes(s));if(selectedSpec){setSelectedSpecialty(selectedSpec);setBookingStep('doctors');try{const response=await apiService.getDoctors({specialty:selectedSpec});const doctors=response.data.slice(0,5);setTimeout(()=>{const botMessage={text:\"Here are our top \".concat(selectedSpec,\" specialists:\\n\\nClick 'Book' to schedule your appointment:\"),isBot:true,timestamp:new Date(),doctors:doctors,options:[\"üîÑ Change Specialty\",\"üè† Main Menu\"]};setMessages(prev=>[...prev,botMessage]);},500);}catch(error){setTimeout(()=>{const botMessage={text:\"Sorry, I couldn't fetch doctors at the moment. Please try again or contact support.\",isBot:true,timestamp:new Date(),options:[\"üîÑ Try Again\",\"üìû Contact Support\",\"üè† Main Menu\"]};setMessages(prev=>[...prev,botMessage]);},500);}return;}// Handle Change Specialty\nif(option.includes('Change Specialty')){setTimeout(()=>{const botMessage={text:\"Please select a different specialty:\",isBot:true,timestamp:new Date(),options:[\"‚ù§Ô∏è Cardiology\",\"üß† Neurology\",\"ü¶¥ Orthopedics\",\"üë∂ Pediatrics\",\"ü©∫ General Medicine\",\"üë© Gynecology\",\"üëÅÔ∏è Ophthalmology\",\"ü¶∑ Dentistry\",\"üè† Main Menu\"]};setMessages(prev=>[...prev,botMessage]);},500);return;}setTimeout(()=>{const response=getBotResponse(option);const botMessage={text:response.text,isBot:true,timestamp:new Date(),options:response.options,showBooking:response.showBooking};setMessages(prev=>[...prev,botMessage]);},500);};const handleBookDoctor=(doctorId,doctorName)=>{const token=localStorage.getItem('token');if(!token){const botMessage={text:\"‚ö†Ô∏è Please sign in first to book an appointment.\\n\\nClick 'Sign In' at the top of the page to continue.\",isBot:true,timestamp:new Date(),options:[\"üè† Main Menu\",\"üìû Contact Support\"]};setMessages(prev=>[...prev,botMessage]);return;}const botMessage={text:\"\\u2705 Great! To complete your booking with Dr. \".concat(doctorName,\":\\n\\n1. Close this chat\\n2. Find Dr. \").concat(doctorName,\" in the doctors list\\n3. Click 'Book Appointment'\\n4. Select your preferred date and time\\n\\nOr I can help you with something else!\"),isBot:true,timestamp:new Date(),options:[\"üîÑ Choose Another Doctor\",\"üè† Main Menu\",\"üìû Need Help?\"]};setMessages(prev=>[...prev,botMessage]);// Scroll to doctor in main page\nsetTimeout(()=>{setIsOpen(false);const doctorElement=document.querySelector(\"[data-doctor-id=\\\"\".concat(doctorId,\"\\\"]\"));if(doctorElement){doctorElement.scrollIntoView({behavior:'smooth',block:'center'});}},2000);};return/*#__PURE__*/_jsxs(_Fragment,{children:[!isOpen&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(true),className:\"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center z-50 animate-bounce touch-manipulation\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"h-6 w-6 sm:h-7 sm:w-7\"})}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-x-0 bottom-0 sm:bottom-6 sm:right-6 sm:left-auto w-full sm:w-96 h-[100dvh] sm:h-[600px] bg-white sm:rounded-2xl shadow-2xl flex flex-col z-50 border-t sm:border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-3 sm:p-4 flex items-center justify-between safe-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 sm:w-10 sm:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"h-5 w-5 sm:h-6 sm:w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-base sm:text-lg\",children:\"SehatNama Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-100\",children:\"Online \\u2022 Always here to help\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),className:\"hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-all touch-manipulation active:scale-95\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5 sm:h-6 sm:w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50 overscroll-contain\",children:[messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.isBot?'justify-start':'justify-end'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[85%] sm:max-w-[80%] rounded-2xl px-3 py-2 sm:px-4 sm:py-3 \".concat(message.isBot?'bg-white text-gray-800 shadow-md border border-gray-200':'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'),children:[message.isBot&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1.5 sm:space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(Bot,{className:\"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold text-blue-600\",children:\"Assistant\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs sm:text-sm whitespace-pre-line leading-relaxed\",children:message.text}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] sm:text-xs mt-1 \".concat(message.isBot?'text-gray-400':'text-blue-100'),children:message.timestamp.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'})}),message.isBot&&message.doctors&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 sm:mt-3 space-y-2 sm:space-y-3\",children:message.doctors.map(doctor=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-2.5 sm:p-3 border border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-bold text-gray-900 text-xs sm:text-sm truncate\",children:[\"Dr. \",doctor.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] sm:text-xs text-gray-600 truncate\",children:doctor.specialty}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] sm:text-xs text-yellow-600\",children:[\"\\u2B50 \",doctor.rating]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] sm:text-xs text-gray-500\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] sm:text-xs text-gray-600\",children:[doctor.experience,\"y\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] sm:text-xs text-gray-500\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] sm:text-xs text-green-600 font-semibold\",children:[\"\\u20B9\",doctor.consultationFee]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleBookDoctor(doctor._id,doctor.name),className:\"ml-1 sm:ml-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-2.5 py-1.5 sm:px-3 sm:py-1.5 rounded-lg text-[10px] sm:text-xs font-semibold hover:shadow-lg transform active:scale-95 transition-all flex items-center gap-1 touch-manipulation flex-shrink-0\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-3 w-3\"}),\"Book\"]})]})},doctor._id))}),message.isBot&&message.options&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 sm:mt-3 space-y-1.5 sm:space-y-2\",children:message.options.map((option,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOptionClick(option),className:\"block w-full text-left px-2.5 py-2 sm:px-3 sm:py-2 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 active:from-blue-200 active:to-purple-200 text-gray-700 rounded-lg text-xs sm:text-sm font-medium transition-all transform active:scale-95 border border-blue-200 touch-manipulation\",children:option},idx))})]})},index)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 sm:p-4 bg-white border-t border-gray-200 safe-bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Type your message...\",className:\"flex-1 px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm touch-manipulation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:!input.trim(),className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-2.5 sm:p-3 rounded-xl hover:shadow-lg transform active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation flex-shrink-0\",children:/*#__PURE__*/_jsx(Send,{className:\"h-5 w-5\"})})]})})]})]});};export default Chatbot;","map":{"version":3,"names":["React","useState","useRef","useEffect","MessageCircle","X","Send","Bot","Calendar","apiService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Chatbot","isOpen","setIsOpen","messages","setMessages","text","isBot","timestamp","Date","options","input","setInput","bookingStep","setBookingStep","selectedSpecialty","setSelectedSpecialty","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","getBotResponse","userMessage","msg","toLowerCase","match","includes","showBooking","handleSend","trim","prev","setTimeout","response","botMessage","handleKeyPress","e","key","shiftKey","preventDefault","handleOptionClick","option","specialties","selectedSpec","find","s","getDoctors","specialty","doctors","data","slice","concat","error","handleBookDoctor","doctorId","doctorName","token","localStorage","getItem","doctorElement","document","querySelector","block","children","onClick","className","map","message","index","toLocaleTimeString","hour","minute","doctor","name","rating","experience","consultationFee","_id","idx","ref","type","value","onChange","target","onKeyPress","placeholder","disabled"],"sources":["c:/Users/rizwa/Desktop/Prescure/Prescure/src/components/Chatbot.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { MessageCircle, X, Send, Bot, Calendar } from 'lucide-react';\nimport apiService from '../services/api';\nimport { Doctor } from '../types';\n\ninterface Message {\n  text: string;\n  isBot: boolean;\n  timestamp: Date;\n  options?: string[];\n  doctors?: Doctor[];\n  showBooking?: boolean;\n}\n\nconst Chatbot: React.FC = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([\n    { \n      text: \"Hi! I'm SehatNama Assistant. üëã\\n\\nHow can I help you today?\", \n      isBot: true, \n      timestamp: new Date(),\n      options: [\n        \"üîç Find Doctors\",\n        \"üìÖ Book Appointment\",\n        \"üìã My Appointments\",\n        \"üöë Emergency Services\",\n        \"üíä Prescription Refill\",\n        \"üß™ Lab Tests\",\n        \"üí¨ Consult Online\",\n        \"üè• Nearby Hospitals\",\n        \"üí° Health Tips\",\n        \"üìû Contact Support\"\n      ]\n    }\n  ]);\n  const [input, setInput] = useState('');\n  const [bookingStep, setBookingStep] = useState<'specialty' | 'doctors' | null>(null);\n  const [selectedSpecialty, setSelectedSpecialty] = useState<string>('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const getBotResponse = (userMessage: string): { text: string; options?: string[]; showBooking?: boolean } => {\n    const msg = userMessage.toLowerCase();\n    \n    // Greetings\n    if (msg.match(/\\b(hello|hi|hey|good morning|good evening|good afternoon)\\b/)) {\n      return {\n        text: \"Hello! Welcome to SehatNama. I can help you find doctors, book appointments, or answer questions about our services.\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üìÖ Book Appointment\",\n          \"üöë Emergency Services\",\n          \"üíä Prescription Refill\",\n          \"üìû Contact Support\"\n        ]\n      };\n    }\n    \n    // Booking appointments\n    if (msg.match(/\\b(book|schedule|make|üìÖ)\\b.*\\b(appointment|consultation)\\b/) || msg.includes('üìÖ')) {\n      return {\n        text: \"Great! Let's book an appointment for you.\\n\\nPlease select a specialty:\",\n        options: [\n          \"‚ù§Ô∏è Cardiology\",\n          \"üß† Neurology\",\n          \"ü¶¥ Orthopedics\",\n          \"üë∂ Pediatrics\",\n          \"ü©∫ General Medicine\",\n          \"üë© Gynecology\",\n          \"üëÅÔ∏è Ophthalmology\",\n          \"ü¶∑ Dentistry\",\n          \"üè† Main Menu\"\n        ],\n        showBooking: true\n      };\n    }\n\n    // My Appointments\n    if (msg.includes('my appointment') || msg.includes('üìã')) {\n      return {\n        text: \"üìã MY APPOINTMENTS:\\n\\nTo view your appointments:\\n‚Ä¢ Go to 'My Appointments' section\\n‚Ä¢ View upcoming appointments\\n‚Ä¢ Check past appointments\\n‚Ä¢ Cancel or reschedule\\n\\nYou can manage all your bookings there!\",\n        options: [\"üìÖ Book New Appointment\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Emergency Services\n    if (msg.includes('emergency') || msg.includes('urgent') || msg.includes('üöë')) {\n      return {\n        text: \"üö® EMERGENCY SERVICES:\\n\\nüöë Ambulance: 102 / 108\\nüè• Emergency Helpline: 112\\n‚òéÔ∏è Our 24/7 Support: +91 1800-123-4567\\n\\n‚ö†Ô∏è For life-threatening emergencies, call 102 immediately!\",\n        options: [\"üè• Nearby Hospitals\", \"üîç Find Doctors\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Prescription Refill\n    if (msg.includes('prescription') || msg.includes('refill') || msg.includes('üíä')) {\n      return {\n        text: \"üíä PRESCRIPTION REFILL:\\n\\nTo refill your prescription:\\n1. Upload your prescription\\n2. Select pharmacy\\n3. Choose delivery or pickup\\n\\nDelivery available in 2-4 hours!\",\n        options: [\"üì§ Upload Prescription\", \"üîç Find Pharmacy\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Lab Tests\n    if (msg.includes('lab') || msg.includes('test') || msg.includes('üß™')) {\n      return {\n        text: \"üß™ LAB TESTS & DIAGNOSTICS:\\n\\nAvailable services:\\n‚Ä¢ Blood Tests\\n‚Ä¢ X-Ray & Scans\\n‚Ä¢ Health Checkup Packages\\n‚Ä¢ Home Sample Collection\\n\\nGet reports within 24 hours!\",\n        options: [\"üìã Book Lab Test\", \"üè† Home Collection\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Online Consultation\n    if (msg.includes('online') || msg.includes('consult') || msg.includes('üí¨')) {\n      return {\n        text: \"üí¨ ONLINE CONSULTATION:\\n\\nConnect with doctors via:\\n‚Ä¢ Video Call\\n‚Ä¢ Voice Call\\n‚Ä¢ Chat\\n\\nAvailable 24/7 for instant consultation!\",\n        options: [\"üìπ Start Video Call\", \"üìÖ Book Appointment\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Nearby Hospitals\n    if (msg.includes('hospital') || msg.includes('nearby') || msg.includes('üè•')) {\n      return {\n        text: \"üè• NEARBY HOSPITALS:\\n\\nFinding hospitals near you...\\n\\nYou can filter by:\\n‚Ä¢ Distance\\n‚Ä¢ Specialty\\n‚Ä¢ Emergency services\\n‚Ä¢ Insurance accepted\",\n        options: [\"üó∫Ô∏è View on Map\", \"üîç Find Doctors\", \"üè† Main Menu\"]\n      };\n    }\n\n    // Health Tips\n    if (msg.includes('health') || msg.includes('tip') || msg.includes('üí°')) {\n      return {\n        text: \"üí° DAILY HEALTH TIPS:\\n\\nüíß Drink 8-10 glasses of water\\nüèÉ Exercise 30 mins daily\\nü•ó Eat balanced, nutritious meals\\nüò¥ Get 7-8 hours of sleep\\nüßò Practice meditation\\nüö≠ Avoid smoking & alcohol\\nüì± Limit screen time\",\n        options: [\"üìÖ Book Health Checkup\", \"üß™ Lab Tests\", \"üè† Main Menu\"]\n      };\n    }\n    \n    // Finding doctors\n    if (msg.match(/\\b(find|search|looking for|need|üîç)\\b.*\\b(doctor|specialist|physician)\\b/) || msg.includes('üîç')) {\n      return {\n        text: \"You can find doctors by:\\n‚Ä¢ Using the search bar at the top\\n‚Ä¢ Filtering by specialty (Cardiology, Dermatology, etc.)\\n‚Ä¢ Searching by location or city\\n‚Ä¢ Sorting by rating, distance, or price\\n\\nWe have 500+ verified doctors across India!\",\n        options: [\n          \"üè• View Specialties\",\n          \"üìç Find Near Me\",\n          \"üí∞ Check Pricing\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Canceling appointments\n    if (msg.match(/\\b(cancel|delete|remove|‚ùå)\\b.*\\b(appointment|booking)\\b/) || msg.includes('‚ùå')) {\n      return {\n        text: \"To cancel an appointment:\\n1. Go to 'My Appointments' section\\n2. Find your scheduled appointment\\n3. Click the 'Cancel' button\\n\\nPlease cancel at least 24 hours in advance when possible.\",\n        options: [\n          \"üìÖ Book New Appointment\",\n          \"üìû Contact Support\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Pricing\n    if (msg.match(/\\b(price|fee|cost|charge|how much|üí∞)\\b/) || msg.includes('üí∞')) {\n      return {\n        text: \"Consultation fees vary by doctor and specialty:\\n‚Ä¢ General Physician: ‚Çπ300-‚Çπ500\\n‚Ä¢ Specialists: ‚Çπ500-‚Çπ1000\\n‚Ä¢ Super Specialists: ‚Çπ1000-‚Çπ1500\\n\\nYou can see each doctor's exact fee on their profile card.\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üí≥ Payment Methods\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Location services\n    if (msg.match(/\\b(location|near me|nearby|closest|distance|üìç)\\b/) || msg.includes('üìç')) {\n      return {\n        text: \"To find doctors near you:\\n1. Click 'Use my location' in the search bar\\n2. Allow location access\\n3. We'll show doctors sorted by distance\\n\\nYou can also manually enter your city or area.\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üè• View Specialties\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Specialties\n    if (msg.match(/\\b(specialty|specialties|type of doctor|which doctor|üè•)\\b/) || msg.includes('üè•')) {\n      return {\n        text: \"We have doctors in 50+ specialties including:\\n‚Ä¢ Cardiology (Heart)\\n‚Ä¢ Dermatology (Skin)\\n‚Ä¢ Neurology (Brain & Nerves)\\n‚Ä¢ Orthopedics (Bones & Joints)\\n‚Ä¢ Pediatrics (Children)\\n‚Ä¢ Gynecology (Women's Health)\\n‚Ä¢ Psychiatry (Mental Health)\\n‚Ä¢ General Medicine\\n\\nAnd many more!\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üìç Find Near Me\",\n          \"üí∞ Check Pricing\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Emergency\n    if (msg.match(/\\b(emergency|urgent|critical|serious|ambulance)\\b/)) {\n      return {\n        text: \"‚ö†Ô∏è For medical emergencies:\\n‚Ä¢ Call 108 (India Emergency Services)\\n‚Ä¢ Visit the nearest hospital immediately\\n\\nOur platform is for scheduled consultations, not emergency care. Please seek immediate help for urgent medical situations.\",\n        options: [\n          \"üìû Contact Support\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Payment\n    if (msg.match(/\\b(payment|pay|transaction|upi|card|üí≥)\\b/) || msg.includes('üí≥')) {\n      return {\n        text: \"We accept multiple payment methods:\\n‚Ä¢ UPI (Google Pay, PhonePe, Paytm)\\n‚Ä¢ Credit/Debit Cards\\n‚Ä¢ Net Banking\\n‚Ä¢ Wallets\\n\\nAll payments are secure and encrypted. You'll receive instant confirmation.\",\n        options: [\n          \"üí∞ Check Pricing\",\n          \"üìÖ Book Appointment\",\n          \"üìû Contact Support\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Availability/Hours\n    if (msg.match(/\\b(hours|time|when|available|open)\\b/)) {\n      return {\n        text: \"Our platform is available 24/7 for browsing and booking.\\n\\nDoctor availability varies:\\n‚Ä¢ Check each doctor's profile for their consultation hours\\n‚Ä¢ Most doctors are available 9 AM - 9 PM\\n‚Ä¢ Some offer evening and weekend slots\\n\\nBook anytime, consult as per doctor's schedule!\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Contact/Support\n    if (msg.match(/\\b(contact|support|help|call|email|reach|üìû)\\b/) || msg.includes('üìû')) {\n      return {\n        text: \"üìû CONTACT SUPPORT:\\n\\n‚òéÔ∏è Helpline: +91 1800-123-4567\\nüìß Email: support@sehetnama.com\\nüí¨ Live Chat: Available 24/7\\n‚è∞ Response time: Under 5 mins\\n\\nHow can we assist you?\",\n        options: [\n          \"üí¨ Start Live Chat\",\n          \"üìß Send Email\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Registration/Sign up\n    if (msg.match(/\\b(register|sign up|create account|join)\\b/)) {\n      return {\n        text: \"To create an account:\\n1. Click 'Sign In' at the top\\n2. Select 'Register'\\n3. Enter your details (name, email, phone)\\n4. Verify your phone number\\n5. Complete your profile\\n\\nIt only takes 2 minutes!\",\n        options: [\n          \"üìÖ Book Appointment\",\n          \"üîç Find Doctors\",\n          \"üìû Need Help?\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Reviews/Ratings\n    if (msg.match(/\\b(review|rating|feedback|testimonial)\\b/)) {\n      return {\n        text: \"All our doctors have verified patient reviews and ratings.\\n\\nYou can:\\n‚Ä¢ View ratings (1-5 stars)\\n‚Ä¢ Read patient reviews\\n‚Ä¢ See review count\\n‚Ä¢ Filter by top-rated doctors\\n\\nAfter your consultation, you can also leave a review!\",\n        options: [\n          \"üîç Find Top Rated Doctors\",\n          \"üìÖ Book Appointment\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Thank you\n    if (msg.match(/\\b(thank|thanks|appreciate)\\b/)) {\n      return {\n        text: \"You're very welcome! üòä\\n\\nFeel free to ask if you need anything else. Stay healthy and take care!\",\n        options: [\n          \"üîç Find Doctors\",\n          \"üìÖ Book Appointment\",\n          \"üìû Contact Support\",\n          \"üè† Main Menu\"\n        ]\n      };\n    }\n    \n    // Goodbye\n    if (msg.match(/\\b(bye|goodbye|see you|later)\\b/)) {\n      return {\n        text: \"Goodbye! Take care and stay healthy! üëã\\n\\nFeel free to come back anytime you need help. Have a great day!\"\n      };\n    }\n    \n    // Default response\n    return {\n      text: \"I'm your healthcare assistant! I can help you with:\\n\\nüîç Finding doctors\\nüìÖ Booking appointments\\nüöë Emergency services\\nüíä Prescription refills\\nüß™ Lab tests\\nüí¨ Online consultations\\n\\nWhat would you like to do?\",\n      options: [\n        \"üîç Find Doctors\",\n        \"üìÖ Book Appointment\",\n        \"üöë Emergency Services\",\n        \"üíä Prescription Refill\",\n        \"üß™ Lab Tests\",\n        \"üí¨ Consult Online\"\n      ]\n    };\n  };\n\n  const handleSend = () => {\n    if (!input.trim()) return;\n\n    const userMessage: Message = {\n      text: input,\n      isBot: false,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n\n    setTimeout(() => {\n      const response = getBotResponse(input);\n      const botMessage: Message = {\n        text: response.text,\n        isBot: true,\n        timestamp: new Date(),\n        options: response.options\n      };\n      setMessages(prev => [...prev, botMessage]);\n    }, 500);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleOptionClick = async (option: string) => {\n    setInput(option);\n    const userMessage: Message = {\n      text: option,\n      isBot: false,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n\n    // Check if it's a specialty selection for booking\n    const specialties = ['Cardiology', 'Neurology', 'Orthopedics', 'Pediatrics', 'General Medicine', 'Gynecology', 'Ophthalmology', 'Dentistry'];\n    const selectedSpec = specialties.find(s => option.includes(s));\n    \n    if (selectedSpec) {\n      setSelectedSpecialty(selectedSpec);\n      setBookingStep('doctors');\n      \n      try {\n        const response = await apiService.getDoctors({ specialty: selectedSpec });\n        const doctors = response.data.slice(0, 5);\n        \n        setTimeout(() => {\n          const botMessage: Message = {\n            text: `Here are our top ${selectedSpec} specialists:\\n\\nClick 'Book' to schedule your appointment:`,\n            isBot: true,\n            timestamp: new Date(),\n            doctors: doctors,\n            options: [\"üîÑ Change Specialty\", \"üè† Main Menu\"]\n          };\n          setMessages(prev => [...prev, botMessage]);\n        }, 500);\n      } catch (error) {\n        setTimeout(() => {\n          const botMessage: Message = {\n            text: \"Sorry, I couldn't fetch doctors at the moment. Please try again or contact support.\",\n            isBot: true,\n            timestamp: new Date(),\n            options: [\"üîÑ Try Again\", \"üìû Contact Support\", \"üè† Main Menu\"]\n          };\n          setMessages(prev => [...prev, botMessage]);\n        }, 500);\n      }\n      return;\n    }\n\n    // Handle Change Specialty\n    if (option.includes('Change Specialty')) {\n      setTimeout(() => {\n        const botMessage: Message = {\n          text: \"Please select a different specialty:\",\n          isBot: true,\n          timestamp: new Date(),\n          options: [\n            \"‚ù§Ô∏è Cardiology\",\n            \"üß† Neurology\",\n            \"ü¶¥ Orthopedics\",\n            \"üë∂ Pediatrics\",\n            \"ü©∫ General Medicine\",\n            \"üë© Gynecology\",\n            \"üëÅÔ∏è Ophthalmology\",\n            \"ü¶∑ Dentistry\",\n            \"üè† Main Menu\"\n          ]\n        };\n        setMessages(prev => [...prev, botMessage]);\n      }, 500);\n      return;\n    }\n\n    setTimeout(() => {\n      const response = getBotResponse(option);\n      const botMessage: Message = {\n        text: response.text,\n        isBot: true,\n        timestamp: new Date(),\n        options: response.options,\n        showBooking: response.showBooking\n      };\n      setMessages(prev => [...prev, botMessage]);\n    }, 500);\n  };\n\n  const handleBookDoctor = (doctorId: string, doctorName: string) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      const botMessage: Message = {\n        text: \"‚ö†Ô∏è Please sign in first to book an appointment.\\n\\nClick 'Sign In' at the top of the page to continue.\",\n        isBot: true,\n        timestamp: new Date(),\n        options: [\"üè† Main Menu\", \"üìû Contact Support\"]\n      };\n      setMessages(prev => [...prev, botMessage]);\n      return;\n    }\n\n    const botMessage: Message = {\n      text: `‚úÖ Great! To complete your booking with Dr. ${doctorName}:\\n\\n1. Close this chat\\n2. Find Dr. ${doctorName} in the doctors list\\n3. Click 'Book Appointment'\\n4. Select your preferred date and time\\n\\nOr I can help you with something else!`,\n      isBot: true,\n      timestamp: new Date(),\n      options: [\"üîÑ Choose Another Doctor\", \"üè† Main Menu\", \"üìû Need Help?\"]\n    };\n    setMessages(prev => [...prev, botMessage]);\n    \n    // Scroll to doctor in main page\n    setTimeout(() => {\n      setIsOpen(false);\n      const doctorElement = document.querySelector(`[data-doctor-id=\"${doctorId}\"]`);\n      if (doctorElement) {\n        doctorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    }, 2000);\n  };\n\n  return (\n    <>\n      {/* Chat Button */}\n      {!isOpen && (\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center z-50 animate-bounce touch-manipulation\"\n        >\n          <MessageCircle className=\"h-6 w-6 sm:h-7 sm:w-7\" />\n        </button>\n      )}\n\n      {/* Chat Window */}\n      {isOpen && (\n        <div className=\"fixed inset-x-0 bottom-0 sm:bottom-6 sm:right-6 sm:left-auto w-full sm:w-96 h-[100dvh] sm:h-[600px] bg-white sm:rounded-2xl shadow-2xl flex flex-col z-50 border-t sm:border border-gray-200 overflow-hidden\">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-3 sm:p-4 flex items-center justify-between safe-top\">\n            <div className=\"flex items-center space-x-2 sm:space-x-3\">\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <Bot className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n              </div>\n              <div>\n                <h3 className=\"font-bold text-base sm:text-lg\">SehatNama Assistant</h3>\n                <p className=\"text-xs text-blue-100\">Online ‚Ä¢ Always here to help</p>\n              </div>\n            </div>\n            <button\n              onClick={() => setIsOpen(false)}\n              className=\"hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-all touch-manipulation active:scale-95\"\n            >\n              <X className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n            </button>\n          </div>\n\n          {/* Messages */}\n          <div className=\"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50 overscroll-contain\">\n            {messages.map((message, index) => (\n              <div\n                key={index}\n                className={`flex ${message.isBot ? 'justify-start' : 'justify-end'}`}\n              >\n                <div\n                  className={`max-w-[85%] sm:max-w-[80%] rounded-2xl px-3 py-2 sm:px-4 sm:py-3 ${\n                    message.isBot\n                      ? 'bg-white text-gray-800 shadow-md border border-gray-200'\n                      : 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'\n                  }`}\n                >\n                  {message.isBot && (\n                    <div className=\"flex items-center space-x-1.5 sm:space-x-2 mb-1\">\n                      <Bot className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-600\" />\n                      <span className=\"text-xs font-semibold text-blue-600\">Assistant</span>\n                    </div>\n                  )}\n                  <p className=\"text-xs sm:text-sm whitespace-pre-line leading-relaxed\">{message.text}</p>\n                  <p className={`text-[10px] sm:text-xs mt-1 ${message.isBot ? 'text-gray-400' : 'text-blue-100'}`}>\n                    {message.timestamp.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                  </p>\n                  {message.isBot && message.doctors && (\n                    <div className=\"mt-2 sm:mt-3 space-y-2 sm:space-y-3\">\n                      {message.doctors.map((doctor) => (\n                        <div key={doctor._id} className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-2.5 sm:p-3 border border-blue-200\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <div className=\"flex-1 min-w-0\">\n                              <h4 className=\"font-bold text-gray-900 text-xs sm:text-sm truncate\">Dr. {doctor.name}</h4>\n                              <p className=\"text-[10px] sm:text-xs text-gray-600 truncate\">{doctor.specialty}</p>\n                              <div className=\"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap\">\n                                <span className=\"text-[10px] sm:text-xs text-yellow-600\">‚≠ê {doctor.rating}</span>\n                                <span className=\"text-[10px] sm:text-xs text-gray-500\">‚Ä¢</span>\n                                <span className=\"text-[10px] sm:text-xs text-gray-600\">{doctor.experience}y</span>\n                                <span className=\"text-[10px] sm:text-xs text-gray-500\">‚Ä¢</span>\n                                <span className=\"text-[10px] sm:text-xs text-green-600 font-semibold\">‚Çπ{doctor.consultationFee}</span>\n                              </div>\n                            </div>\n                            <button\n                              onClick={() => handleBookDoctor(doctor._id, doctor.name)}\n                              className=\"ml-1 sm:ml-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-2.5 py-1.5 sm:px-3 sm:py-1.5 rounded-lg text-[10px] sm:text-xs font-semibold hover:shadow-lg transform active:scale-95 transition-all flex items-center gap-1 touch-manipulation flex-shrink-0\"\n                            >\n                              <Calendar className=\"h-3 w-3\" />\n                              Book\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                  {message.isBot && message.options && (\n                    <div className=\"mt-2 sm:mt-3 space-y-1.5 sm:space-y-2\">\n                      {message.options.map((option, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => handleOptionClick(option)}\n                          className=\"block w-full text-left px-2.5 py-2 sm:px-3 sm:py-2 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 active:from-blue-200 active:to-purple-200 text-gray-700 rounded-lg text-xs sm:text-sm font-medium transition-all transform active:scale-95 border border-blue-200 touch-manipulation\"\n                        >\n                          {option}\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Input */}\n          <div className=\"p-3 sm:p-4 bg-white border-t border-gray-200 safe-bottom\">\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Type your message...\"\n                className=\"flex-1 px-3 py-2.5 sm:px-4 sm:py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm touch-manipulation\"\n              />\n              <button\n                onClick={handleSend}\n                disabled={!input.trim()}\n                className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-2.5 sm:p-3 rounded-xl hover:shadow-lg transform active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation flex-shrink-0\"\n              >\n                <Send className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Chatbot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}